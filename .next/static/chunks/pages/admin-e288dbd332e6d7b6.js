(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[964],{4830:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin",function(){return a(3601)}])},7749:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(1462).Z)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},7886:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(1462).Z)("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},5444:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(1462).Z)("layout-dashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]])},7969:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(1462).Z)("list",[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]])},3696:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(1462).Z)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]])},8453:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(1462).Z)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},1565:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(1462).Z)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},4088:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(1462).Z)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},2770:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(1462).Z)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]])},3270:function(e,t,a){"use strict";a.r(t),a.d(t,{AdminLayout:function(){return k}});var s=a(5893),r=a(7294),n=a(1664),o=a.n(n),l=a(1163),i=a(3460),d=a(5444),c=a(4088),m=a(1880),x=a(2770),f=a(7969),h=a(7886),u=a(1565),g=a(8154),p=a(760),y=a(3696),j=a(5781);let b="horizon_admin_token",k=e=>{let{children:t}=e,[a,n]=(0,r.useState)(!1),[k,N]=(0,r.useState)(""),[w,v]=(0,r.useState)(""),[Z,S]=(0,r.useState)(!1),C=(0,l.useRouter)(),{settings:I}=(0,j.T)();if((0,r.useEffect)(()=>{localStorage.getItem(b)&&n(!0)},[]),(0,r.useEffect)(()=>{S(!1)},[C.pathname]),!a)return(0,s.jsx)("div",{className:"flex items-center justify-center min-h-[60vh]",children:(0,s.jsxs)("div",{className:"w-full max-w-md p-8 bg-white rounded-xl shadow-lg border border-gray-100",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-indigo-100 text-indigo-600 mb-4",children:(0,s.jsx)(i.Z,{className:"w-8 h-8"})}),(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Admin Access"}),(0,s.jsx)("p",{className:"text-gray-500",children:"Secure Dashboard Login"})]}),(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),"admin123"===k?(localStorage.setItem(b,"valid"),n(!0),v("")):v('Invalid password. Try "admin123"')},className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),(0,s.jsx)("input",{type:"password",value:k,onChange:e=>N(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Enter admin password"})]}),w&&(0,s.jsx)("p",{className:"text-red-500 text-sm",children:w}),(0,s.jsx)("button",{type:"submit",className:"w-full bg-indigo-600 text-white py-2 px-4 rounded-lg font-medium hover:bg-indigo-700 transition-colors shadow-md hover:shadow-lg",children:"Login to Console"})]})]})});let M=[{href:"/admin",label:"Dashboard",icon:d.Z},{href:"/admin/analytics",label:"Analytics",icon:c.Z},{href:"/admin/products",label:"Products & Stock",icon:m.Z},{href:"/admin/import",label:"Bulk Import",icon:x.Z},{href:"/admin/categories",label:"Categories",icon:f.Z},{href:"/admin/banner",label:"Banner",icon:h.Z},{href:"/admin/settings/general",label:"General Settings",icon:u.Z},{href:"/admin/settings/stock",label:"Stock Status",icon:u.Z}];return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"lg:hidden sticky top-16 z-40 bg-white border-b border-gray-200 px-4 py-3 flex items-center justify-between",children:[(0,s.jsx)("h2",{className:"font-semibold text-gray-900",children:"Admin Console"}),(0,s.jsx)("button",{onClick:()=>S(!Z),className:"p-2 rounded-lg hover:bg-gray-100 transition-colors","aria-label":"Toggle menu",children:Z?(0,s.jsx)(g.Z,{className:"w-6 h-6"}):(0,s.jsx)(p.Z,{className:"w-6 h-6"})})]}),Z&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>S(!1)}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[(0,s.jsx)("aside",{className:"\n            fixed lg:static inset-y-0 left-0 z-50\n            lg:col-span-3 xl:col-span-2\n            transform transition-transform duration-300 ease-in-out\n            ".concat(Z?"translate-x-0":"-translate-x-full lg:translate-x-0","\n            w-64 lg:w-auto\n          "),children:(0,s.jsxs)("div",{className:"bg-white rounded-none lg:rounded-xl shadow-lg lg:shadow-sm border-r lg:border border-gray-100 overflow-hidden sticky top-16 lg:top-24 h-[calc(100vh-4rem)] lg:h-auto",children:[(0,s.jsxs)("div",{className:"p-4 border-b bg-gradient-to-r from-indigo-50 to-purple-50",children:[(0,s.jsx)("h3",{className:"font-bold text-gray-900 text-lg",children:"Admin Console"}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-0.5",children:(null==I?void 0:I.storeName)||"Manage your store"})]}),(0,s.jsx)("nav",{className:"p-2 space-y-1 overflow-y-auto max-h-[calc(100vh-12rem)]",children:M.map(e=>{let t=C.pathname===e.href||"/admin"!==e.href&&C.pathname.startsWith(e.href),a=e.icon;return(0,s.jsxs)(o(),{href:e.href,className:"flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium transition-all duration-200 ".concat(t?"bg-indigo-50 text-indigo-700 shadow-sm":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"),children:[(0,s.jsx)(a,{className:"w-5 h-5"}),e.label]},e.href)})}),(0,s.jsx)("div",{className:"p-4 border-t mt-auto bg-gray-50",children:(0,s.jsxs)("button",{onClick:()=>{localStorage.removeItem(b),n(!1),C.push("/")},className:"flex items-center gap-3 w-full px-4 py-2.5 text-sm font-medium text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[(0,s.jsx)(y.Z,{className:"w-5 h-5"}),"Logout"]})})]})}),(0,s.jsx)("main",{className:"lg:col-span-9 xl:col-span-10",children:t})]})]})}},3601:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return w}});var s=a(5893),r=a(1822),n=a.n(r),o=a(7294),l=a(3270),i=a(1880),d=a(7969),c=a(1462);let m=(0,c.Z)("hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);var x=a(7749);let f=(0,c.Z)("arrow-up",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),h=(0,c.Z)("arrow-down",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]),u=(0,c.Z)("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);var g=a(1664),p=a.n(g),y=a(8453),j=a(2770),b=a(4088);let k=()=>{let e=[{title:"Add Product",description:"Create a new product",href:"/admin/product/edit/new",icon:y.Z,color:"bg-blue-500 hover:bg-blue-600"},{title:"Import Products",description:"Bulk CSV import",href:"/admin/import",icon:j.Z,color:"bg-green-500 hover:bg-green-600"},{title:"View Analytics",description:"Check performance",href:"/admin/analytics",icon:b.Z,color:"bg-purple-500 hover:bg-purple-600"},{title:"Manage Categories",description:"Edit categories",href:"/admin/categories",icon:d.Z,color:"bg-amber-500 hover:bg-amber-600"}];return(0,s.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:e.map(e=>(0,s.jsx)(p(),{href:e.href,className:"group relative bg-white p-6 rounded-xl shadow-sm border border-gray-100 hover:shadow-md transition-all duration-200 hover:-translate-y-1",children:(0,s.jsxs)("div",{className:"flex items-start gap-4",children:[(0,s.jsx)("div",{className:"p-3 rounded-lg text-white ".concat(e.color," transition-colors"),children:(0,s.jsx)(e.icon,{className:"w-6 h-6"})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("h3",{className:"font-semibold text-gray-900 group-hover:text-indigo-600 transition-colors",children:e.title}),(0,s.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:e.description})]})]})},e.title))})},N=()=>{let[e,t]=(0,o.useState)({productCount:0,categoryCount:0,totalStockValue:0,productsInStock:0,lowStockCount:0,outOfStockCount:0}),[a,r]=(0,o.useState)(!0);(0,o.useEffect)(()=>{(async()=>{r(!0);try{let[e,a]=await Promise.all([fetch("/api/products"),fetch("/api/categories")]);if(!e.ok||!a.ok)throw Error("Failed to fetch data");let s=await e.json(),r=await a.json(),n=s.length,o=r.length,l=s.reduce((e,t)=>e+t.price,0),i=s.filter(e=>"IN_STOCK"===e.stockStatus).length,d=s.filter(e=>"LOW_STOCK"===e.stockStatus).length,c=s.filter(e=>"OUT_OF_STOCK"===e.stockStatus).length;t({productCount:n,categoryCount:o,totalStockValue:l,productsInStock:i,lowStockCount:d,outOfStockCount:c})}catch(e){console.error("Failed to fetch dashboard stats:",e)}finally{r(!1)}})()},[]);let l=[{title:"Total Products",value:e.productCount,icon:i.Z,color:"text-blue-600 bg-blue-100",bgGradient:"from-blue-50 to-blue-100/50"},{title:"Categories",value:e.categoryCount,icon:d.Z,color:"text-indigo-600 bg-indigo-100",bgGradient:"from-indigo-50 to-indigo-100/50"},{title:"In Stock",value:"".concat(e.productsInStock,"/").concat(e.productCount),icon:m,color:"text-green-600 bg-green-100",bgGradient:"from-green-50 to-green-100/50",trend:e.productsInStock>e.productCount/2?"up":"down"},{title:"Stock Value",value:"$".concat(e.totalStockValue.toLocaleString()),icon:x.Z,color:"text-amber-600 bg-amber-100",bgGradient:"from-amber-50 to-amber-100/50"}],c=e=>"up"===e?(0,s.jsx)(f,{className:"w-4 h-4 text-green-600"}):"down"===e?(0,s.jsx)(h,{className:"w-4 h-4 text-red-600"}):(0,s.jsx)(u,{className:"w-4 h-4 text-gray-400"});return(0,s.jsxs)("div",{className:"jsx-5a36586740a35ff space-y-8 animate-fadeIn",children:[(0,s.jsxs)("div",{className:"jsx-5a36586740a35ff",children:[(0,s.jsx)("h1",{className:"jsx-5a36586740a35ff text-3xl font-bold text-gray-900",children:"Dashboard"}),(0,s.jsx)("p",{className:"jsx-5a36586740a35ff text-gray-500 mt-1",children:"Welcome back! Here's what's happening with your store."})]}),a?(0,s.jsx)("div",{className:"jsx-5a36586740a35ff grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[void 0,void 0,void 0,void 0].map((e,t)=>(0,s.jsx)("div",{className:"jsx-5a36586740a35ff bg-gray-200 h-36 rounded-xl animate-pulse"},t))}):(0,s.jsx)("div",{className:"jsx-5a36586740a35ff grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:l.map((e,t)=>(0,s.jsx)("div",{style:{animationDelay:"".concat(100*t,"ms")},className:"jsx-5a36586740a35ff "+"bg-gradient-to-br ".concat(e.bgGradient," p-6 rounded-xl shadow-sm border border-gray-100 hover:shadow-md transition-all duration-200 hover:-translate-y-1"),children:(0,s.jsxs)("div",{className:"jsx-5a36586740a35ff flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"jsx-5a36586740a35ff flex-1",children:[(0,s.jsxs)("p",{className:"jsx-5a36586740a35ff text-sm font-medium text-gray-600 flex items-center gap-2",children:[e.title,e.trend&&c(e.trend)]}),(0,s.jsx)("p",{className:"jsx-5a36586740a35ff text-3xl font-bold text-gray-900 mt-2",children:e.value})]}),(0,s.jsx)("div",{className:"jsx-5a36586740a35ff "+"p-3 rounded-lg ".concat(e.color," shadow-sm"),children:(0,s.jsx)(e.icon,{className:"w-6 h-6"})})]})},e.title))}),(0,s.jsxs)("div",{className:"jsx-5a36586740a35ff",children:[(0,s.jsx)("h2",{className:"jsx-5a36586740a35ff text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),(0,s.jsx)(k,{})]}),(0,s.jsxs)("div",{className:"jsx-5a36586740a35ff grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"jsx-5a36586740a35ff bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[(0,s.jsx)("h3",{className:"jsx-5a36586740a35ff text-lg font-semibold text-gray-800 mb-4",children:"Stock Status"}),(0,s.jsxs)("div",{className:"jsx-5a36586740a35ff space-y-3",children:[(0,s.jsxs)("div",{className:"jsx-5a36586740a35ff flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[(0,s.jsx)("span",{className:"jsx-5a36586740a35ff text-sm font-medium text-green-900",children:"In Stock"}),(0,s.jsx)("span",{className:"jsx-5a36586740a35ff text-2xl font-bold text-green-600",children:e.productsInStock})]}),(0,s.jsxs)("div",{className:"jsx-5a36586740a35ff flex items-center justify-between p-3 bg-yellow-50 rounded-lg",children:[(0,s.jsx)("span",{className:"jsx-5a36586740a35ff text-sm font-medium text-yellow-900",children:"Low Stock"}),(0,s.jsx)("span",{className:"jsx-5a36586740a35ff text-2xl font-bold text-yellow-600",children:e.lowStockCount})]}),(0,s.jsxs)("div",{className:"jsx-5a36586740a35ff flex items-center justify-between p-3 bg-red-50 rounded-lg",children:[(0,s.jsx)("span",{className:"jsx-5a36586740a35ff text-sm font-medium text-red-900",children:"Out of Stock"}),(0,s.jsx)("span",{className:"jsx-5a36586740a35ff text-2xl font-bold text-red-600",children:e.outOfStockCount})]})]})]}),(0,s.jsxs)("div",{className:"jsx-5a36586740a35ff bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[(0,s.jsx)("h3",{className:"jsx-5a36586740a35ff text-lg font-semibold text-gray-800 mb-4",children:"Quick Tips"}),(0,s.jsxs)("ul",{className:"jsx-5a36586740a35ff space-y-3 text-sm text-gray-600",children:[(0,s.jsxs)("li",{className:"jsx-5a36586740a35ff flex items-start gap-2",children:[(0,s.jsx)("span",{className:"jsx-5a36586740a35ff text-indigo-600 font-bold",children:"•"}),(0,s.jsx)("span",{className:"jsx-5a36586740a35ff",children:"Use bulk import to add multiple products at once"})]}),(0,s.jsxs)("li",{className:"jsx-5a36586740a35ff flex items-start gap-2",children:[(0,s.jsx)("span",{className:"jsx-5a36586740a35ff text-indigo-600 font-bold",children:"•"}),(0,s.jsx)("span",{className:"jsx-5a36586740a35ff",children:"Organize products with categories for better navigation"})]}),(0,s.jsxs)("li",{className:"jsx-5a36586740a35ff flex items-start gap-2",children:[(0,s.jsx)("span",{className:"jsx-5a36586740a35ff text-indigo-600 font-bold",children:"•"}),(0,s.jsx)("span",{className:"jsx-5a36586740a35ff",children:"Update stock status regularly to keep customers informed"})]}),(0,s.jsxs)("li",{className:"jsx-5a36586740a35ff flex items-start gap-2",children:[(0,s.jsx)("span",{className:"jsx-5a36586740a35ff text-indigo-600 font-bold",children:"•"}),(0,s.jsx)("span",{className:"jsx-5a36586740a35ff",children:"Customize your homepage banner to highlight promotions"})]})]})]})]}),(0,s.jsx)(n(),{id:"5a36586740a35ff",children:"@-webkit-keyframes fadeIn{from{opacity:0;-webkit-transform:translatey(10px);transform:translatey(10px)}to{opacity:1;-webkit-transform:translatey(0);transform:translatey(0)}}@-moz-keyframes fadeIn{from{opacity:0;-moz-transform:translatey(10px);transform:translatey(10px)}to{opacity:1;-moz-transform:translatey(0);transform:translatey(0)}}@-o-keyframes fadeIn{from{opacity:0;-o-transform:translatey(10px);transform:translatey(10px)}to{opacity:1;-o-transform:translatey(0);transform:translatey(0)}}@keyframes fadeIn{from{opacity:0;-webkit-transform:translatey(10px);-moz-transform:translatey(10px);-o-transform:translatey(10px);transform:translatey(10px)}to{opacity:1;-webkit-transform:translatey(0);-moz-transform:translatey(0);-o-transform:translatey(0);transform:translatey(0)}}.animate-fadeIn.jsx-5a36586740a35ff{-webkit-animation:fadeIn.5s ease-out;-moz-animation:fadeIn.5s ease-out;-o-animation:fadeIn.5s ease-out;animation:fadeIn.5s ease-out}"})]})};N.getLayout=function(e){return(0,s.jsx)(l.AdminLayout,{children:e})};var w=N}},function(e){e.O(0,[900,888,774,179],function(){return e(e.s=4830)}),_N_E=e.O()}]);